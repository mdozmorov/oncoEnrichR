### Disease associations

* Each protein in the target set is annotated with:
   * Known disease associations established from [multiple sources](https://docs.targetvalidation.org/getting-started/scoring) through the [Open Targets Platform](https://targetvalidation.org)
   * Target druggability (aka [_target tractability_](https://docs.targetvalidation.org/getting-started/target-tractability) )
   * Status wrt. roles as tumor suppressors/proto-oncogenes, fetched from the [CancerMine](https://www.nature.com/articles/s41592-019-0422-y) literature mining resource
   * Target genes are colored in varying shades of blue according to their level of association to cancer  
   
<br><br>



```{r filter_opentargets, echo=F, results='asis'}

show_opentargets <- FALSE
missing_opentargets <- TRUE

if(nrow(onc_enrich_report[['data']][['disease']][['target']]$target) > 0){
  show_opentargets <- TRUE
  missing_opentargets <- FALSE
}

```


```{r table_browse_targets, echo=F, results = "asis", eval = show_opentargets}
library(crosstalk)

targets_shared <- crosstalk::SharedData$new(onc_enrich_report[['data']][['disease']][['target']]$target)

crosstalk::bscols(
  list(
    crosstalk::filter_select("tumor_suppressor", "Tumor suppressor", targets_shared, ~tumor_suppressor),
    crosstalk::filter_select("proto_oncogene", "Proto-oncogene", targets_shared, ~proto_oncogene)
  ),
  list(
    crosstalk::filter_select("disease_associations", "Associated diseases", targets_shared, ~disease_associations),
    crosstalk::filter_select("cancer_associations", "Associated cancer types", targets_shared, ~cancer_associations),
    crosstalk::filter_select("target_tractability", "Target tractability", targets_shared, ~target_tractability)

  )
)

htmltools::br()
crosstalk::bscols(
  DT::datatable(targets_shared, escape = F, extensions=c("Buttons","Responsive"), width = "100%",
    options=list(buttons = c('csv','excel'),dom = 'Bfrtip')) %>%
  DT::formatStyle("symbol","ot_cancer_rank", color = "white", backgroundColor = DT::styleInterval(onc_enrich_report[['config']][['disease']][['breaks']], onc_enrich_report[['config']][['disease']][['colors']]))
)


```


```{r opentargets_missing, echo=F, results = 'asis', eval = missing_opentargets}
cat('<i>No genes with disease associations from Open Targets Platform were found.</i>',sep='\n')
cat('\n')
```


<br><br>
